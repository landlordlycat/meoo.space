---
slug: copy-branch
title: Git 根据已有分支新建分支开发
authors: mcx
tags: [Git, 技术]
---

当需要根据一个已有分支，来创建一个新分支并在上面开发时，这篇内容会很有用。

一般情景是，在 dev 分支开发，此时遇到了一些 bug 需要修复，要根据 dev 分支创建一个 bugfix 分支，在此分支把问题解决，然后推送并发起 pull request 将代码合并到 dev 分支。

## 步骤

### 1.新建分支
根据远程的 origin/dev 分支，新建了一个 bugfix 分支

```bash
git checkout -b bugfix origin/dev
```

### 2.代码开发
在 bugfix 分支进行开发。

### 3.设置上游分支
现在的上游是 origin/dev，如果不手动设置上游，推送时会推到远程 dev 分支。

```bash
git push --set-upstream origin bugfix
```

### 4.推送
可以推送到远程仓库
```bash
git push
```

如果没手动设置上游，可以手动推送到上游分支

```bash
git push origin bugfix
```

在这之后，就可以在仓库看到了 bugfix 分支，可以发起合并请求了